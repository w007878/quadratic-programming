% 原问题
G = 2*[1 0 0 0 0; 0 1 -1 0 0; 0 -1 1 0 0; 0 0 0 1 -1; 0 0 0 -1 1];
h = [-2;0;0;0;0];
A = [1 0; 1 0; 1 1; 1 -2; 1 -2];
b = [5;-3];

% 对A进行QR分解
[Q, R] = qr(A);
Q1 = Q(1:5, 1:2);
Q2 = Q(1:5, 3:5);
R1 = R(1:2, 1:2);

x0 = [3; 5; -3; 2; -2];
Z = Q2;
A_ = Q1 * inv(R1)';

d = (Z' * G * Z) \ (-Z' * (h + G * x0));

x = x0 + Z * d;
disp('x=')
disp(x);